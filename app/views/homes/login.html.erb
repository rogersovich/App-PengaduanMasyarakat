<div class="position-relative">
    
    <div class="row">
        <p id=”alert”><%= alert %></p>
        <div class="col-md-5 col-lg-5 pl-5 prc-4 pt-5 pb-5 bg-white-landing">
            
            <div class="container p-4">

                <div class="title pb-3">
                    <h2 class="font-weight-bolder">
                        <span class="text-dark-landing">Masuk Ke</span>
                        <span class="text-green-landing">Bacot</span>
                        <%= image_tag ("eye-close.png"), width: 52, height: 52, class: 'eye' %>
                        <%= image_tag ("eye-open.png"), width: 52, height: 52, class: 'eye-off' %>                   
                    </h2>
                    <p class="text-dark-landing">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Maiores ab excepturi asperiore
                    </p>
                </div>

                <ul id="progressbar">
                    <li id="register" data-link="<%= signUp_path %>">
                        <strong>Daftar</strong>
                    </li>
                    <li class="active" id="login">
                        <strong>Masuk</strong>
                    </li>
                    <li><strong></strong></li>
                    <li><strong></strong></li>
                    <li><strong></strong></li>
                </ul>

                <%= form_tag :action => 'login' do |form|%>
                <div id="floatContainer-1" class="form-group float-container">
                    <label for="userField">Username</label>
                    <input type="text" name="username" autocomplete="off" required id="userField" class="form-control form-control-alternative">
                </div>
                <div id="floatContainer-2" class="form-group float-container">
                    <label for="passField">Password</label>
                    <input type="password" name="password" autocomplete="off" required id="passField" class="form-control form-control-alternative">
                </div>
                <div class="form-group role">
                    <select name="role" id="roleField" required class="form-control form-control-alternative">
                        <option value="">Pilih Peran</option>
                        <option value="1">Admin</option>
                        <option value="2">Petugas</option>
                        <option value="3" selected>Masyarakat</option>
                    </select>
                </div>
                <div class="section-btn mt-5">
                    <%= submit_tag 'Login', class: 'btn btn-green-landing btn-block pt-2 pb-2' %>
                </div>
                <% end %>
            </div>
        </div>
        <div class="col-md-7 col-lg-7 p-0">
            <div class="owl-carousel text-center">
                <div class="bg-image-1">
                    <div class="sub-card">
                        <div class="row">
                            <div class="col-md-3 bg-white-second-landing">
                                <div class="circle-img"></div>
                            </div>
                            <div class="col-md-9">
                                <h4 class="text-dark-landing mb-0 font-weight-bold">
                                    More Effective and Simple
                                </h4>
                                <p class="text-dark-landing">
                                    Lorem ipsum dolor sit amet consectetur adipisicing elit.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-image-2">
                    <div class="sub-card">
                        <div class="row">
                            <div class="col-md-3 bg-white-second-landing">
                                <div class="circle-img"></div>
                            </div>
                            <div class="col-md-9">
                                <h4 class="text-dark-landing mb-0 font-weight-bold">
                                    More Effective and Simple
                                </h4>
                                <p class="text-dark-landing">
                                    Lorem ipsum dolor sit amet consectetur adipisicing elit.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-image-4">
                    <div class="sub-card">
                        <div class="row">
                            <div class="col-md-3 bg-white-second-landing">
                                <div class="circle-img"></div>
                            </div>
                            <div class="col-md-9">
                                <h4 class="text-dark-landing mb-0 font-weight-bold">
                                    More Effective and Simple
                                </h4>
                                <p class="text-dark-landing">
                                    Lorem ipsum dolor sit amet consectetur adipisicing elit.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function(){

        $('#register').on('click', function(){
            var data = $('#register').data('link')
            window.location = data;
        })

        $(".owl-carousel").owlCarousel({
            items: 1,
            loop: true,
            navs: true
        });
        
        $('.role').hide()
        $('.eye-off').hide()
        $('#role').removeAttr('required')
        

        $('.eye').on('click', function(){
            $('.eye').hide()
            $('.eye-off').show()
            $('#role').val(0)
            $('#role').attr('required', 'required')
            $('.role').show()
        })

        $('.eye-off').on('click', function(){
            $('.eye-off').hide()
            $('.eye').show()
            $('#role').val(0)
            $('#role').removeAttr('required')
            $('.role').hide()
        })

        
        const userField = document.getElementById('userField');
        const passField = document.getElementById('passField');
        const floatContainer1 = document.getElementById('floatContainer-1');
        const floatContainer2 = document.getElementById('floatContainer-2');

        userField.addEventListener('focus', () => {
            floatContainer1.classList.add('active');
        });
        passField.addEventListener('focus', () => {
            floatContainer2.classList.add('active');
        });

        $('#userField').keyup(function(){
            var val = $(this).val()
            
            userField.addEventListener('blur', () => {
                if(val == ''){
                    floatContainer1.classList.remove('active')
                }else{
                    
                }
            })
        })

        $('#passField').keyup(function(){
            var val = $(this).val()
            
            passField.addEventListener('blur', () => {
                if(val == ''){
                    floatContainer2.classList.remove('active')
                }else{
                    
                }
            })
        })
        
    })
</script>